<view class="container"><view class="search-box"><view class="search-bar"><text class="iconfont icon-search"></text><input class="search-input" type="text" placeholder="搜索美食、用户" confirm-type="search" focus="{{true}}" data-event-opts="{{[['confirm',[['handleSearch',['$event']]]],['input',[['__set_model',['','keyword','$event',[]]]]]]}}" value="{{keyword}}" bindconfirm="__e" bindinput="__e"/><block wx:if="{{keyword}}"><text data-event-opts="{{[['tap',[['clearKeyword',['$event']]]]]}}" class="clear-btn" bindtap="__e">×</text></block></view><text data-event-opts="{{[['tap',[['goBack',['$event']]]]]}}" class="cancel-btn" bindtap="__e">取消</text></view><block wx:if="{{$root.g0}}"><view class="history"><view class="header"><text class="title">搜索历史</text><text data-event-opts="{{[['tap',[['clearHistory',['$event']]]]]}}" class="clear" bindtap="__e">清空</text></view><view class="history-list"><block wx:for="{{searchHistory}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['useHistoryKeyword',['$0'],[[['searchHistory','',index]]]]]]]}}" class="history-item" bindtap="__e"><text class="iconfont icon-time"></text><text class="keyword">{{item}}</text></view></block></view></view></block><block wx:if="{{keyword}}"><view class="result-list"><block wx:if="{{!$root.g1}}"><view class="empty"><text>暂无相关内容</text></view></block><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="__i0__" wx:key="_id"><view data-event-opts="{{[['tap',[['goToDetail',['$0'],[[['searchResult','_id',item.$orig._id]]]]]]]}}" class="result-item" bindtap="__e"><block wx:if="{{item.g2}}"><image class="cover" src="{{item.$orig.images[0]}}" mode="aspectFill"></image></block><view class="info"><text class="title">{{item.$orig.title}}</text><text class="desc">{{item.$orig.content}}</text></view></view></block></view></block></view>